<!DOCTYPE html>
<html>
<head>
  <meta charset=utf-8 />
  <title>OADA Pop-Map Demo</title>
  <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
  <script src='https://api.tiles.mapbox.com/mapbox.js/v2.1.9/mapbox.js'></script>
  <link href='https://api.tiles.mapbox.com/mapbox.js/v2.1.9/mapbox.css' rel='stylesheet' />
  <style>
    body {margin: 0; padding: 0;}
    #map {position:absolute;top:260px;width:100%; height:50%; float:left;}
    #jsx {width:100%; height:25%; clear:both; float:left;}
    #dom {width:100%; height:25%; clear:both; float:left;}
  </style>
</head>
<body>
  <script src="http://fb.me/react-0.11.1.js"></script>
  <script src="http://fb.me/JSXTransformer-0.11.1.js"></script>
    
    <div id='jsx'></div>
    <div id='dom'></div>
    <div id='map'></div>

  <script>
    L.mapbox.accessToken = 'pk.eyJ1IjoibmFwa2luc3RlcnJvciIsImEiOiJZdUhPX0ljIn0.wUA8FDY5uJBKmDleHby0wQ';
    var map = L.mapbox.map('map', 'mapbox.streets')
    .setView([40, -74.50], 9);
  </script>

<script type="text/jsx">
    /** @jsx React.DOM */
    
    var Map = React.createClass({
      render: function() {
        return ( 
            <div className="container">
              
            </div>
          );
      },

      _onMapCreated: function(map, L) {
        //do stuff here
      }
    });
    
    var MessageBoxJSX = React.createClass({
      render: function() {
        return (
          <div className="container">
            <h1>Hello, World! From JSX</h1>
            <SubMessage />
          </div>
        );
      }
    });

    var MessageBoxDOM = React.createClass({
      render: function() {
        return React.DOM.div({
           className: 'container'},
           React.DOM.h1(null, 'Hello, World! From DOM'),
           SubMessage(null)
           );
      }
    });
    
    var SubMessage = React.createClass({
      render: function() {
        return (
          <small> Its good to see you </small>
        );
      }
    });
    /*
    var reactComponentMap = React.renderComponent(
      <Map />,
      document.getElementById('map'),
      function() {
        console.log('map react component callback');
      });
*/
    
    var reactComponentJSX = React.renderComponent(
      <MessageBoxJSX/>,
      document.getElementById('jsx'),
      function() {
        console.log('callback');
      });

    var reactComponentDOM = React.renderComponent(
      MessageBoxDOM(null),
      document.getElementById('dom')
      );

  </script>


</body>
</html>

