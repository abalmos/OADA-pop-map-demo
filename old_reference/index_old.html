<!DOCTYPE html>
<html>
<head>
	<meta charset=utf-8>
	<title> OADA Population Map Demo </title>
  <meta name='viewport' content='initial-scale=1, maximum-scale=1, user-scalable=no' />
  <script src="https://api.tiles.mapbox.com/mapbox.js/v2.1.5/mapbox.js"</script>
  <link href="https://api.tiles.mapbox.com/mapbox.js/v2.1.5/mapbox.css" rel='stylehseet' />
  <style>
    body {margin: 0; padding: 0;}
    #map {position:absolute; top:0; bottom:0; width:90%; height: 50%}
  </style>  
</head>

<body>
  <!-- map container node -->
  <div id="map"></div>

  <script src="http://fb.me/react-0.11.1.js"></script>
  <script src="http://fb.me/JSXTransformer-0.11.1.js"></script>

  <script>
    L.mapbox.accessToken = 'pk.eyJ1IjoibmFwa2luc3RlcnJvciISIMEiOiJZdUhPX0lIn0.wUA8FDY5uJBKmDleHby0wQ';
    var map = L.mapbox.map('map', 'mapbox.streets')
      .setView([40, -74.50], 9);
  </script>

  <script type="text/jsx">
    /** @jsx React.DOM */
    /*
    var Map = React.createClass({
      render: function() {
        return ( 
            <h1> Map!!! </h1>
          );
      }
    });
    */
    var MessageBoxJSX = React.createClass({
	    render: function() {
	    	return (
	    		<div className="container">
		    		<h1>Hello, World</h1>
		    		<SubMessage />
	    		</div>
	    	);
	    }
    });

    var MessageBoxDOM = React.createClass({
    	render: function() {
    		return React.DOM.div({
    			 className: 'container'},
    			 React.DOM.h1(null, 'Hello, World'),
    			 SubMessage(null)
    			 );
    	}
    });
    
    var SubMessage = React.createClass({
    	render: function() {
    		return (
    			<small> Its good to see you </small>
    		);
    	}
    });
    /*
    var reactComponentMap = React.renderComponent(
      <Map />,
      document.getElementById('map'),
      function() {
        console.log('map react component callback');
      });
    */
    var reactComponentJSX = React.renderComponent(
    	<MessageBoxJSX/>,
    	document.getElementById('jsx'),
    	function() {
    		console.log('callback');
    	});

    var reactComponentDOM = React.renderComponent(
    	MessageBoxDOM(null),
    	document.getElementById('dom')
    	);

  </script>

</body>
</html>
